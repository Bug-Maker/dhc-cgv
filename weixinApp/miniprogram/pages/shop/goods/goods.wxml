<!--pages/shop/goods/goods.wxml-->

<view class="good_container">
  
  <!-- <view class='flex-wrp-cloumn'>
    <view class='flex-wrp-cloumn-center'>
      <image class="goodimg" src="{{agood.image}}"></image>
    </view>
    <view class='good-name-sy'><text>{{agood.name}}</text></view>
    <view class='good-desc-sy'><text >{{agood.description}}</text></view>
    <view><text class='good-price-sy'>促销价: {{agood.price}}元</text><text class='good-oldprice-sy'>{{agood.oldPrice}}元</text></view>
  </view> -->
  <image wx:if="{{ goods.image }}" class="good_background" src="{{ goods.image }}"/>
  <block wx:if="{{ goods.name }}">
    <view id="order{{parentIndex}}" class="good_meta">
      <image class="good_poster" src="{{ goods.image }}" mode="aspectFill"/>
      <text class="good_title">{{ goods.name }}</text>
      <text class="good_info">{{ goods.description }}</text>
      <view class="good_p"><text class="good_price">促销价: {{goods.price}}元</text><text class='good-oldprice-sy'>{{goods.oldPrice}}元</text>
      </view>
    </view>
  </block>

  <!--cartControl-->
  <view class="good_cart_right">
    <view name="fade" class="">
      <view class="cart-decrease" wx:if="{{goods.Count > 0}}" data-item-index="{{index}}" data-parentIndex="{{parentIndex}}" catchtap="decreaseCart">
        <view class="inner giconfont icon-jian" style="font-size:24px;color:#00A0DC;"></view>
      </view>
      <view class="cart-count" wx:if="{{goods.Count > 0 }}">{{goods.Count}}</view>
      <view class=" giconfont icon-jia gcart-add " style="color:#00A0DC; " data-item-index="{{index}}" data-parentIndex="{{parentIndex}}" catchtap="addCart"></view>
    </view>
  </view>

  <!--shopCart-->
  <view>
    <view>
      <view class="shopCart">
        <view class="gcontent" bindtap="toggleList">
          <view class="gcontent-left">
            <view class="logo-wrapper">
              <view class="logo highlight">
                <view class="giconfont icon-gouwuche highlight"></view>
              </view>
              <view class="num" wx:if="{{totalCount> 0}}">{{totalCount}}</view>
            </view>
            <view class="price">￥{{totalPrice}}</view>
            <!-- <view class="desc">另需配送费￥{{deliveryPrice}}元</view> -->
          </view>
          <view class="gcontent-right" catchtap="pay">
            <view class="pay enough" :class="payClass">
              {{payDesc}}
            </view>
          </view>
        </view>
        <view class="shopcart-list" style="display:{{cartShow}}">
          <view class="list-header">
            <view class="title">购物车</view>
            <text class="empty" bindtap="empty">清空</text>
          </view>
          <view class="list-content">
            <view class="shopcart-food" wx:for="{{carArray}}">
              <text class="name">{{item.name}}</text>
              <view class="price" >
                <span>￥{{item.price*item.num}}</span> 
              </view>

              <!--cartControl-->
              <view class="cartControl-wrapper" style="bottom:10px;">
                <view class="cartControl" style="width:80px;">
                  <view name="fade">
                    <view class="cart-decrease" style="display:inline;padding:0" data-item-index="{{item.index}}" data-parentIndex="{{item.parentIndex}}" catchtap="decreaseShopCart">
                      <view class="inner giconfont icon-jian" style="font-size:24px;color:#00A0DC;display:inline-block"></view>
                    </view>
                    <view class="cart-count" style="display:inline-block;width:32px;text-align:center;font-size:14px;padding:0">{{item.num}}</view>
                    <view class=" giconfont icon-jia gcart-add" style="font-size:24px;color:#00A0DC; padding:0;display:inline!important;" data-item-index="{{item.index}}" data-parentIndex="{{item.parentIndex}}" catchtap="addShopCart"></view>
                  </view>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>

  </view>